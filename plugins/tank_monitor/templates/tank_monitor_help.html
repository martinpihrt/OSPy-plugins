$def with()

$var title: $_('Water tank monitor - help')
$var page: plugins

<div id="plugin">
    <div class="title">$_('Water tank monitor - help')</div>
    <p>$_('This plugin check water level in water tank via ultrasonic sensor on') I&sup2;C $_('address 0x04').</p>
    <p>$_('If water level is small, this plugin stop irigation system (stop runing stations in scheduler) and sends E-mail with error. Safety for master station pump if no water.')</p>
    <p><b>$_('Delay Duration (hours)')</b></p>
    <p>$_('If there is no water in the tank and the stations stop, then we set the rain delay for this time for blocking. if the level in the tank rises above the minimum + 5 cm, the delay is deactivated').</p>
    <p>$_('If logging is enabled, a graph with measured data will be displayed at the bottom of the screen').</p>
    <p>$_('Visit') <a href="https://pihrt.com/elektronika/339-moje-raspberry-pi-plugin-ospy-vlhkost-pudy-a-mozstvi-vody-v-tankua">Martin Pihrt blog</a> $_('for more information').</p><br>
    <p><b>$_('The PCB board for water tank monitor (board by pihrt.com)')</b></p>
    <a href="/plugins/tank_monitor/static/images/schematics2.png"><img src="/plugins/tank_monitor/static/images/schematics2.png" width="60%"></a></br>
    <a href="/plugins/tank_monitor/static/images/top.png"><img src="/plugins/tank_monitor/static/images/top.png" width="30%"></a></br>
    <a href="/plugins/tank_monitor/static/images/bot.png"><img src="/plugins/tank_monitor/static/images/bot.png" width="30%"></a></br>
    <a href="/plugins/tank_monitor/static/images/pcb.png"><img src="/plugins/tank_monitor/static/images/pcb.png" width="30%"></a></br>
    <a href="/plugins/tank_monitor/static/images/jsn.png"><img src="/plugins/tank_monitor/static/images/jsn.png" width="30%"></a></br>
    <p><b>$_('How to installing in tank')</b></p>
    <a href="/plugins/tank_monitor/static/images/schematics.png"><img src="/plugins/tank_monitor/static/images/schematics.png" width="30%"></a></br>
    <p><b>$_('Principle (demonstration with and without obstacle)')</b></p> 
    <a href="/plugins/tank_monitor/static/images/echo1.gif"><img src="/plugins/tank_monitor/static/images/echo1.gif" width="30%"></a></br>
    <a href="/plugins/tank_monitor/static/images/echo2.gif"><img src="/plugins/tank_monitor/static/images/echo2.gif" width="30%"></a></br>
    <p><b>$_('HW CPU Firmware version')</b></p>  
    <p>*$_('FW 1.4: added CRC8 checksum in to byte 3. Added sending FW version in processor in to byte 2 (example of version 1.4 will be 0x0E). Increased ping time from 35ms to 50ms.')</p>
    <p>*$_('FW 1.3: added back watchdog reset. Added library for I2C with timeout. The LED on the board flashes until the averaging is complete, then the LED is lit.')</p>
    <p>*$_('FW 1.2: added support for "parallax" sensor (has trig and echo on one wire). Canceled: if no request is received from i2c, a cpu reset will be performed.')</p>
    <p><b>$_('Tested ultrasonic probes')</b></p>
    <p>$_('4 wire')</p>
    <p>$_('Ultrasonic waterproof module for distance measurement JSN-SR04T or HCSR04')</p>
    <a href="https://dratek.cz/arduino/1306-ultrazvukovy-vodotesny-modul-pro-mereni-vzdalenosti-pro-arduino.html">$_('Example JSN-SR04T on dratek.cz')</a></br>
    <a href="https://dratek.cz/arduino/1735-meric-vzdalenosti-ultrazvukovy-5pin-hy-srf05-pro-arduino.html">$_('Example HCSR04 on dratek.cz')</a></br>
    <p>$_('Measuring range: 25-400 cm, measuring angle: 45-75 degrees, mounting hole: 18 mm.')</p>
    <p>$_('A small disadvantage can then be taken to be a minimum detectable distance of 25 cm or a relatively large detection angle.')</p>
    <p>$_('I have tested the connection using a 15m cable, which is not shielded (there is a sensor and a JSN board in the well, the signal goes to the my hw board with the processor using 4 wires).')</p>
    <p>$_('3 wire')</p>
    <p>$_('non-waterproof parallax module. Measuring range: 3-300 cm.')</p>
    <a href="https://www.parallax.com/product/28015">$_('Example parallax.com')</a></br>
</div>

<div id="controls">
    <a href=$plugins.plugin_url('tank_monitor.settings_page') class="button danger">$_('Cancel')</a><br/>
</div>